<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RT-Thread RTOS: finsh shell</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="rtthread_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">RT-Thread RTOS<span id="projectnumber">&#160;1.2.0</span>
   </div>
   <div id="projectbrief">An open source embedded real-time operating system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'搜索','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__finsh.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">宏定义</a> &#124;
<a href="#func-members">函数</a>  </div>
  <div class="headertitle"><div class="title">finsh shell</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
宏定义</h2></td></tr>
<tr class="memitem:ga944b96ca55cb370cfe92211c68a55664"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__finsh.html#ga944b96ca55cb370cfe92211c68a55664">FINSH_FUNCTION_EXPORT</a>(name,  desc)</td></tr>
<tr class="separator:ga944b96ca55cb370cfe92211c68a55664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b995a06148f4155bd274b3b4f893d76"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__finsh.html#ga3b995a06148f4155bd274b3b4f893d76">FINSH_FUNCTION_EXPORT_ALIAS</a>(name,  alias,  desc)</td></tr>
<tr class="separator:ga3b995a06148f4155bd274b3b4f893d76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:gab73621cc9f385c6742d10278a64cf638"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___basic_def.html#gaa0f407376acf6e5854ea411316811418">rt_uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__finsh.html#gab73621cc9f385c6742d10278a64cf638">finsh_get_prompt_mode</a> (void)</td></tr>
<tr class="separator:gab73621cc9f385c6742d10278a64cf638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad37603360d3201083d8bae51bec8d124"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__finsh.html#gad37603360d3201083d8bae51bec8d124">finsh_set_prompt_mode</a> (<a class="el" href="group___basic_def.html#gaa0f407376acf6e5854ea411316811418">rt_uint32_t</a> prompt_mode)</td></tr>
<tr class="separator:gad37603360d3201083d8bae51bec8d124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ca70de04431b9f767dff9f2ba7dcc8b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__finsh.html#ga4ca70de04431b9f767dff9f2ba7dcc8b">finsh_set_device</a> (const char *device_name)</td></tr>
<tr class="separator:ga4ca70de04431b9f767dff9f2ba7dcc8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe8f5ac72b6b16c55e97be2b08054b97"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__finsh.html#gafe8f5ac72b6b16c55e97be2b08054b97">finsh_get_device</a> ()</td></tr>
<tr class="separator:gafe8f5ac72b6b16c55e97be2b08054b97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae80e3d53913894f5fbfcf9335205c649"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__finsh.html#gae80e3d53913894f5fbfcf9335205c649">finsh_set_echo</a> (<a class="el" href="group___basic_def.html#gaa0f407376acf6e5854ea411316811418">rt_uint32_t</a> echo)</td></tr>
<tr class="separator:gae80e3d53913894f5fbfcf9335205c649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga77d4ddaeaf41942986da9810c6f5b5ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___basic_def.html#gaa0f407376acf6e5854ea411316811418">rt_uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__finsh.html#ga77d4ddaeaf41942986da9810c6f5b5ee">finsh_get_echo</a> ()</td></tr>
<tr class="separator:ga77d4ddaeaf41942986da9810c6f5b5ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<p >finsh shell is a user command shell in RT-Thread RTOS, which is a shell can accept C-expression like syntax in command. From finsh shell, user can access system area, such as memory, variables and function by input C-expression in command.</p>
<div class="image">
<img src="finsh.png" alt=""/>
<div class="caption">
Figure 3: finsh shell architecture</div></div>
<p> There is a shell thread, which named as "tshell", in the finsh shell, it read user command from console device, and then invokes system function or access system variable to output result (by rt_kprintf). </p>
<h2 class="groupheader">宏定义说明</h2>
<a id="ga944b96ca55cb370cfe92211c68a55664" name="ga944b96ca55cb370cfe92211c68a55664"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga944b96ca55cb370cfe92211c68a55664">&#9670;&nbsp;</a></span>FINSH_FUNCTION_EXPORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FINSH_FUNCTION_EXPORT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">desc&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This macro exports a system function to finsh shell.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the name of function. </td></tr>
    <tr><td class="paramname">desc</td><td>the description of function, which will show in help. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3b995a06148f4155bd274b3b4f893d76" name="ga3b995a06148f4155bd274b3b4f893d76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3b995a06148f4155bd274b3b4f893d76">&#9670;&nbsp;</a></span>FINSH_FUNCTION_EXPORT_ALIAS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FINSH_FUNCTION_EXPORT_ALIAS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">alias, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">desc&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This macro exports a system function with an alias name to finsh shell.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the name of function. </td></tr>
    <tr><td class="paramname">alias</td><td>the alias name of function. </td></tr>
    <tr><td class="paramname">desc</td><td>the description of function, which will show in help. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">函数说明</h2>
<a id="gab73621cc9f385c6742d10278a64cf638" name="gab73621cc9f385c6742d10278a64cf638"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab73621cc9f385c6742d10278a64cf638">&#9670;&nbsp;</a></span>finsh_get_prompt_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___basic_def.html#gaa0f407376acf6e5854ea411316811418">rt_uint32_t</a> finsh_get_prompt_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This function get the prompt mode of finsh shell.</p>
<dl class="section return"><dt>返回</dt><dd>prompt the prompt mode, 0 disable prompt mode, other values enable prompt mode. </dd></dl>

</div>
</div>
<a id="gad37603360d3201083d8bae51bec8d124" name="gad37603360d3201083d8bae51bec8d124"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad37603360d3201083d8bae51bec8d124">&#9670;&nbsp;</a></span>finsh_set_prompt_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void finsh_set_prompt_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___basic_def.html#gaa0f407376acf6e5854ea411316811418">rt_uint32_t</a>&#160;</td>
          <td class="paramname"><em>prompt_mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This function set the prompt mode of finsh shell.</p>
<p >The parameter 0 disable prompt mode, other values enable prompt mode.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">prompt</td><td>the prompt mode </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4ca70de04431b9f767dff9f2ba7dcc8b" name="ga4ca70de04431b9f767dff9f2ba7dcc8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4ca70de04431b9f767dff9f2ba7dcc8b">&#9670;&nbsp;</a></span>finsh_set_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void finsh_set_device </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>device_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This function sets the input device of finsh shell.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">device_name</td><td>the name of new input device. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gafe8f5ac72b6b16c55e97be2b08054b97" name="gafe8f5ac72b6b16c55e97be2b08054b97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe8f5ac72b6b16c55e97be2b08054b97">&#9670;&nbsp;</a></span>finsh_get_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * finsh_get_device </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This function returns current finsh shell input device.</p>
<dl class="section return"><dt>返回</dt><dd>the finsh shell input device name is returned. </dd></dl>

</div>
</div>
<a id="gae80e3d53913894f5fbfcf9335205c649" name="gae80e3d53913894f5fbfcf9335205c649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae80e3d53913894f5fbfcf9335205c649">&#9670;&nbsp;</a></span>finsh_set_echo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void finsh_set_echo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___basic_def.html#gaa0f407376acf6e5854ea411316811418">rt_uint32_t</a>&#160;</td>
          <td class="paramname"><em>echo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This function set the echo mode of finsh shell.</p>
<p >FINSH_OPTION_ECHO=0x01 is echo mode, other values are none-echo mode.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">echo</td><td>the echo mode </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga77d4ddaeaf41942986da9810c6f5b5ee" name="ga77d4ddaeaf41942986da9810c6f5b5ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga77d4ddaeaf41942986da9810c6f5b5ee">&#9670;&nbsp;</a></span>finsh_get_echo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___basic_def.html#gaa0f407376acf6e5854ea411316811418">rt_uint32_t</a> finsh_get_echo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This function gets the echo mode of finsh shell.</p>
<dl class="section return"><dt>返回</dt><dd>the echo mode </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">生成于 2023年 一月 19日 星期四 20:14:49 , 为 RT-Thread RTOS使用  <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
