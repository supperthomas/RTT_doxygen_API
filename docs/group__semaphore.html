<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RT-Thread RTOS: Semaphore</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtthread_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RT-Thread RTOS
   &#160;<span id="projectnumber">1.2.0</span>
   </div>
   <div id="projectbrief">An open source embedded real-time operating system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__semaphore.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Semaphore<div class="ingroups"><a class="el" href="group___kernel.html">RT-Thread Kernel API</a> &raquo; <a class="el" href="group___i_p_c.html">Inter-Thread Communication</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Semaphore:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__semaphore.png" border="0" usemap="#agroup____semaphore" alt=""/></div>
<map name="agroup____semaphore" id="agroup____semaphore">
<area shape="rect" title=" " alt="" coords="261,5,357,31"/>
<area shape="rect" href="group___i_p_c.html" title="inter&#45;thread communication" alt="" coords="5,5,213,31"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrt__semaphore.html">rt_semaphore</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga023e00dd1ae86ddbeb2dbf92771e17ea"><td class="memItemLeft" align="right" valign="top">rt_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__semaphore.html#ga023e00dd1ae86ddbeb2dbf92771e17ea">rt_sem_init</a> (<a class="el" href="structrt__semaphore.html">rt_sem_t</a> sem, const char *name, rt_uint32_t value, rt_uint8_t flag)</td></tr>
<tr class="separator:ga023e00dd1ae86ddbeb2dbf92771e17ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7dd3560a50be21e132c71f622870c500"><td class="memItemLeft" align="right" valign="top">rt_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__semaphore.html#ga7dd3560a50be21e132c71f622870c500">rt_sem_detach</a> (<a class="el" href="structrt__semaphore.html">rt_sem_t</a> sem)</td></tr>
<tr class="separator:ga7dd3560a50be21e132c71f622870c500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61a4960ff4a173f1d1c35ede42e1227f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrt__semaphore.html">rt_sem_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__semaphore.html#ga61a4960ff4a173f1d1c35ede42e1227f">rt_sem_create</a> (const char *name, rt_uint32_t value, rt_uint8_t flag)</td></tr>
<tr class="separator:ga61a4960ff4a173f1d1c35ede42e1227f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e45d2b96aab649832b6756d68629bbe"><td class="memItemLeft" align="right" valign="top">rt_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__semaphore.html#ga0e45d2b96aab649832b6756d68629bbe">rt_sem_delete</a> (<a class="el" href="structrt__semaphore.html">rt_sem_t</a> sem)</td></tr>
<tr class="separator:ga0e45d2b96aab649832b6756d68629bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf24da991e29df68a49062d89b95c7de5"><td class="memItemLeft" align="right" valign="top">rt_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__semaphore.html#gaf24da991e29df68a49062d89b95c7de5">rt_sem_trytake</a> (<a class="el" href="structrt__semaphore.html">rt_sem_t</a> sem)</td></tr>
<tr class="separator:gaf24da991e29df68a49062d89b95c7de5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9a5760bc4c7faeb08a7d9c112506f76"><td class="memItemLeft" align="right" valign="top">rt_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__semaphore.html#gad9a5760bc4c7faeb08a7d9c112506f76">rt_sem_release</a> (<a class="el" href="structrt__semaphore.html">rt_sem_t</a> sem)</td></tr>
<tr class="separator:gad9a5760bc4c7faeb08a7d9c112506f76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga569a571566b70682422a8fc5bd53f06f"><td class="memItemLeft" align="right" valign="top">rt_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__semaphore.html#ga569a571566b70682422a8fc5bd53f06f">rt_sem_control</a> (<a class="el" href="structrt__semaphore.html">rt_sem_t</a> sem, int cmd, void *arg)</td></tr>
<tr class="separator:ga569a571566b70682422a8fc5bd53f06f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga023e00dd1ae86ddbeb2dbf92771e17ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga023e00dd1ae86ddbeb2dbf92771e17ea">&#9670;&nbsp;</a></span>rt_sem_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rt_err_t rt_sem_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrt__semaphore.html">rt_sem_t</a>&#160;</td>
          <td class="paramname"><em>sem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rt_uint32_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rt_uint8_t&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will initialize a static semaphore object. </p>
<dl class="section note"><dt>Note</dt><dd>For the static semaphore object, its memory space is allocated by the compiler during compiling, and shall placed on the read-write data segment or on the uninitialized data segment. By contrast, the <a class="el" href="group__semaphore.html#ga61a4960ff4a173f1d1c35ede42e1227f" title="Creating a semaphore object.">rt_sem_create()</a> function will allocate memory space automatically and initialize the semaphore.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__semaphore.html#ga61a4960ff4a173f1d1c35ede42e1227f" title="Creating a semaphore object.">rt_sem_create()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td>is a pointer to the semaphore to initialize. It is assumed that storage for the semaphore will be allocated in your application.</td></tr>
    <tr><td class="paramname">name</td><td>is a pointer to the name you would like to give the semaphore.</td></tr>
    <tr><td class="paramname">value</td><td>is the initial value for the semaphore. If used to share resources, you should initialize the value as the number of available resources. If used to signal the occurrence of an event, you should initialize the value as 0.</td></tr>
    <tr><td class="paramname">flag</td><td>is the semaphore flag, which determines the queuing way of how multiple threads wait when the semaphore is not available. The semaphore flag can be ONE of the following values: <pre class="fragment">RT_IPC_FLAG_PRIO          The pending threads will queue in order of priority.

RT_IPC_FLAG_FIFO          The pending threads will queue in the first-in-first-out method
                          (also known as first-come-first-served (FCFS) scheduling strategy).

NOTE: RT_IPC_FLAG_FIFO is a non-real-time scheduling mode. It is strongly recommended to
use RT_IPC_FLAG_PRIO to ensure the thread is real-time UNLESS your applications concern about
the first-in-first-out principle, and you clearly understand that all threads involved in
this semaphore will become non-real-time threads.
</pre> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the operation status. When the return value is RT_EOK, the initialization is successful. If the return value is any other values, it represents the initialization failed.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This function can ONLY be called from threads. </dd></dl>

</div>
</div>
<a id="ga7dd3560a50be21e132c71f622870c500"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7dd3560a50be21e132c71f622870c500">&#9670;&nbsp;</a></span>rt_sem_detach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rt_err_t rt_sem_detach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrt__semaphore.html">rt_sem_t</a>&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will detach a static semaphore object. </p>
<dl class="section note"><dt>Note</dt><dd>This function is used to detach a static semaphore object which is initialized by <a class="el" href="group__semaphore.html#ga023e00dd1ae86ddbeb2dbf92771e17ea" title="This function will initialize a static semaphore object.">rt_sem_init()</a> function. By contrast, the <a class="el" href="group__semaphore.html#ga0e45d2b96aab649832b6756d68629bbe" title="This function will delete a semaphore object and release the memory space.">rt_sem_delete()</a> function will delete a semaphore object. When the semaphore is successfully detached, it will resume all suspended threads in the semaphore list.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__semaphore.html#ga0e45d2b96aab649832b6756d68629bbe" title="This function will delete a semaphore object and release the memory space.">rt_sem_delete()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td>is a pointer to a semaphore object to be detached.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the operation status. When the return value is RT_EOK, the initialization is successful. If the return value is any other values, it means that the semaphore detach failed.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This function can ONLY detach a static semaphore initialized by the <a class="el" href="group__semaphore.html#ga023e00dd1ae86ddbeb2dbf92771e17ea" title="This function will initialize a static semaphore object.">rt_sem_init()</a> function. If the semaphore is created by the <a class="el" href="group__semaphore.html#ga61a4960ff4a173f1d1c35ede42e1227f" title="Creating a semaphore object.">rt_sem_create()</a> function, you MUST NOT USE this function to detach it, ONLY USE the <a class="el" href="group__semaphore.html#ga0e45d2b96aab649832b6756d68629bbe" title="This function will delete a semaphore object and release the memory space.">rt_sem_delete()</a> function to complete the deletion. </dd></dl>

</div>
</div>
<a id="ga61a4960ff4a173f1d1c35ede42e1227f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga61a4960ff4a173f1d1c35ede42e1227f">&#9670;&nbsp;</a></span>rt_sem_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrt__semaphore.html">rt_sem_t</a> rt_sem_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rt_uint32_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rt_uint8_t&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creating a semaphore object. </p>
<dl class="section note"><dt>Note</dt><dd>For the semaphore object, its memory space is allocated automatically. By contrast, the <a class="el" href="group__semaphore.html#ga023e00dd1ae86ddbeb2dbf92771e17ea" title="This function will initialize a static semaphore object.">rt_sem_init()</a> function will initialize a static semaphore object.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__semaphore.html#ga023e00dd1ae86ddbeb2dbf92771e17ea" title="This function will initialize a static semaphore object.">rt_sem_init()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>is a pointer to the name you would like to give the semaphore.</td></tr>
    <tr><td class="paramname">value</td><td>is the initial value for the semaphore. If used to share resources, you should initialize the value as the number of available resources. If used to signal the occurrence of an event, you should initialize the value as 0.</td></tr>
    <tr><td class="paramname">flag</td><td>is the semaphore flag, which determines the queuing way of how multiple threads wait when the semaphore is not available. The semaphore flag can be ONE of the following values: <pre class="fragment">RT_IPC_FLAG_PRIO          The pending threads will queue in order of priority.

RT_IPC_FLAG_FIFO          The pending threads will queue in the first-in-first-out method
                          (also known as first-come-first-served (FCFS) scheduling strategy).

NOTE: RT_IPC_FLAG_FIFO is a non-real-time scheduling mode. It is strongly recommended to
use RT_IPC_FLAG_PRIO to ensure the thread is real-time UNLESS your applications concern about
the first-in-first-out principle, and you clearly understand that all threads involved in
this semaphore will become non-real-time threads.
</pre> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return a pointer to the semaphore object. When the return value is RT_NULL, it means the creation failed.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This function can NOT be called in interrupt context. You can use macor RT_DEBUG_NOT_IN_INTERRUPT to check it. </dd></dl>

</div>
</div>
<a id="ga0e45d2b96aab649832b6756d68629bbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0e45d2b96aab649832b6756d68629bbe">&#9670;&nbsp;</a></span>rt_sem_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rt_err_t rt_sem_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrt__semaphore.html">rt_sem_t</a>&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will delete a semaphore object and release the memory space. </p>
<dl class="section note"><dt>Note</dt><dd>This function is used to delete a semaphore object which is created by the <a class="el" href="group__semaphore.html#ga61a4960ff4a173f1d1c35ede42e1227f" title="Creating a semaphore object.">rt_sem_create()</a> function. By contrast, the <a class="el" href="group__semaphore.html#ga7dd3560a50be21e132c71f622870c500" title="This function will detach a static semaphore object.">rt_sem_detach()</a> function will detach a static semaphore object. When the semaphore is successfully deleted, it will resume all suspended threads in the semaphore list.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__semaphore.html#ga7dd3560a50be21e132c71f622870c500" title="This function will detach a static semaphore object.">rt_sem_detach()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td>is a pointer to a semaphore object to be deleted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the operation status. When the return value is RT_EOK, the operation is successful. If the return value is any other values, it means that the semaphore detach failed.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This function can ONLY delete a semaphore initialized by the <a class="el" href="group__semaphore.html#ga61a4960ff4a173f1d1c35ede42e1227f" title="Creating a semaphore object.">rt_sem_create()</a> function. If the semaphore is initialized by the <a class="el" href="group__semaphore.html#ga023e00dd1ae86ddbeb2dbf92771e17ea" title="This function will initialize a static semaphore object.">rt_sem_init()</a> function, you MUST NOT USE this function to delete it, ONLY USE the <a class="el" href="group__semaphore.html#ga7dd3560a50be21e132c71f622870c500" title="This function will detach a static semaphore object.">rt_sem_detach()</a> function to complete the detachment. </dd></dl>

</div>
</div>
<a id="gaf24da991e29df68a49062d89b95c7de5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf24da991e29df68a49062d89b95c7de5">&#9670;&nbsp;</a></span>rt_sem_trytake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rt_err_t rt_sem_trytake </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrt__semaphore.html">rt_sem_t</a>&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will try to take a semaphore, if the semaphore is unavailable, the thread returns immediately. </p>
<dl class="section note"><dt>Note</dt><dd>This function is very similar to the rt_sem_take() function, when the semaphore is not available, the <a class="el" href="group__semaphore.html#gaf24da991e29df68a49062d89b95c7de5" title="This function will try to take a semaphore, if the semaphore is unavailable, the thread returns immed...">rt_sem_trytake()</a> function will return immediately without waiting for a timeout. In other words, rt_sem_trytake(sem) has the same effect as rt_sem_take(sem, 0).</dd></dl>
<dl class="section see"><dt>See also</dt><dd>rt_sem_take()</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td>is a pointer to a semaphore object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the operation status. ONLY When the return value is RT_EOK, the operation is successful. If the return value is any other values, it means that the semaphore take failed. </dd></dl>

</div>
</div>
<a id="gad9a5760bc4c7faeb08a7d9c112506f76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad9a5760bc4c7faeb08a7d9c112506f76">&#9670;&nbsp;</a></span>rt_sem_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rt_err_t rt_sem_release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrt__semaphore.html">rt_sem_t</a>&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will release a semaphore. If there is thread suspended on the semaphore, it will get resumed. </p>
<dl class="section note"><dt>Note</dt><dd>If there are threads suspended on this semaphore, the first thread in the list of this semaphore object will be resumed, and a thread scheduling (rt_schedule) will be executed. If no threads are suspended on this semaphore, the count value sem-&gt;value of this semaphore will increase by 1.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td>is a pointer to a semaphore object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the operation status. When the return value is RT_EOK, the operation is successful. If the return value is any other values, it means that the semaphore release failed. </dd></dl>

</div>
</div>
<a id="ga569a571566b70682422a8fc5bd53f06f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga569a571566b70682422a8fc5bd53f06f">&#9670;&nbsp;</a></span>rt_sem_control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rt_err_t rt_sem_control </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrt__semaphore.html">rt_sem_t</a>&#160;</td>
          <td class="paramname"><em>sem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will set some extra attributions of a semaphore object. </p>
<dl class="section note"><dt>Note</dt><dd>Currently this function only supports the RT_IPC_CMD_RESET command to reset the semaphore.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td>is a pointer to a semaphore object.</td></tr>
    <tr><td class="paramname">cmd</td><td>is a command word used to configure some attributions of the semaphore.</td></tr>
    <tr><td class="paramname">arg</td><td>is the argument of the function to execute the command.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the operation status. When the return value is RT_EOK, the operation is successful. If the return value is any other values, it means that this function failed to execute. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Dec 24 2024 16:15:40 for RT-Thread RTOS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
